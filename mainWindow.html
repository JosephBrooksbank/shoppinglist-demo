<!DOCTYPE html>
<html lang="en">
<head>
    <title>ShoppingList</title>
    <!--Import Google Icon Font-->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <!--Import materialize.css-->
    <link type="text/css" rel="stylesheet" href="css/materialize.css"  media="screen,projection"/>
    <link type="text/css" rel="stylesheet" href="css/style.css">
</head>
<body>
 <div class="grid">
     <aside>

     </aside>
     <main id="drag-file">

     </main>
 </div>

 <!--JavaScript at end of body for optimized loading-->
 <script type="text/javascript" src="js/materialize.js"></script>
</body>

<!--<script>-->
    <!--const electron = require('electron');-->
    <!--const {ipcRenderer} = electron;-->
    <!--const ul = document.querySelector('ul');-->

    <!--// add item-->
    <!--ipcRenderer.on('item:add', function(e, item){-->
       <!--const li = document.createElement('li');-->
       <!--const itemText = document.createTextNode(item);-->
       <!--li.appendChild(itemText);-->
       <!--ul.appendChild(li);-->
    <!--});-->

    <!--// Clear items-->
    <!--ipcRenderer.on('item:clear', function(e, item){-->
        <!--ul.innerHTML= '';-->
    <!--});-->

    <!--// Remove items-->
    <!--ul.addEventListener('dblclick', removeItem);-->

    <!--function removeItem(e){-->
        <!--e.target.remove();-->
    <!--}-->
    <!--</script>-->
<script>
    const fs = require('fs');
    (function () {
        var holder = document.getElementById('drag-file');

        holder.ondragover = () => {
            console.log("Dragged over lmao");
            return false;
        };

        holder.ondragleave = () => {
            return false;
        };

        holder.ondragend = () => {
            return false;
        };

        holder.ondrop = (e) => {
            e.preventDefault();

            for (let f of e.dataTransfer.files) {
                console.log('File(s) you dragged here: ', f.path);
                fs.readFile(f.path, (err,data) => {
                    if (err) throw err;

                    const names = data.toString().split("\n");
                    console.log(names);

                    const main = document.querySelector('main');
                    for (let name of names){
                        let div = document.createElement('div');
                        div.className="item";
                        div.textContent = name;
                        main.appendChild(div);
                    }


                })

            }

            return false;
        };
    })();
</script>
</html>